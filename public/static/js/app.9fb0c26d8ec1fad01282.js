webpackJsonp([1],{"37qN":function(t,n){},"9ckf":function(t,n){},ED4V:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"pwd-container"},t._l(t.pwd_list,function(n,a){return e("div",{staticClass:"pwd-value",on:{click:function(e){t.button_click(n)}}},[t._v(t._s(n))])}))},o=[],i={render:a,staticRenderFns:o};n.a=i},G9wJ:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen",value:t.loading,expression:"loading",modifiers:{fullscreen:!0}}]},[e("div",{staticClass:"title"},[t._v("消费项目("),e("span",{staticStyle:{color:"red"}},[t._v(t._s((t.cost/1e3).toFixed(2))+"k")]),t._v(")")]),t._v(" "),e("el-radio-group",{model:{value:t.action,callback:function(n){t.action=n},expression:"action"}},t._l(t.content_list.action,function(t,n){return e("el-radio-button",{key:n,attrs:{label:n}})})),t._v(" "),e("el-select",{staticStyle:{margin:"5px",width:"310px"},attrs:{filterable:"","allow-create":"",placeholder:"请选择消费项目"},model:{value:t.action,callback:function(n){t.action=n},expression:"action"}},t._l(t.content_list.action_list,function(t,n){return e("el-option",{key:n,attrs:{label:n,value:n}})})),t._v(" "),e("div",{staticClass:"title"},[t._v("消费内容")]),t._v(" "),e("el-checkbox-group",{model:{value:t.things,callback:function(n){t.things=n},expression:"things"}},[t._l(t.things_list,function(n){return e("el-checkbox",{key:n,attrs:{label:n}},[t._v(t._s(n))])}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.things_more_flag,expression:"!things_more_flag"}],staticStyle:{color:"steelblue",margin:"0px 10px","font-size":"14px",cursor:"pointer"},on:{click:function(n){t.things_more_click()}}},[t._v("更多")])],2),t._v(" "),e("el-input",{directives:[{name:"show",rawName:"v-show",value:t.things_more_flag,expression:"things_more_flag"}],staticStyle:{width:"310px",margin:"5px"},attrs:{placeholder:"输入消费内容"},model:{value:t.things_more,callback:function(n){t.things_more=n},expression:"things_more"}}),t._v(" "),e("div",{staticClass:"title"},[t._v("对象")]),t._v(" "),e("el-radio-group",{staticStyle:{margin:"5px"},model:{value:t.who,callback:function(n){t.who=n},expression:"who"}},t._l(t.content_list.who,function(t){return e("el-radio-button",{key:t,attrs:{label:t}})})),t._v(" "),e("div",{staticClass:"title"},[t._v("事件地点")]),t._v(" "),e("el-input",{staticStyle:{width:"310px",margin:"5px"},attrs:{placeholder:"输入事件地点"},model:{value:t.where,callback:function(n){t.where=n},expression:"where"}}),t._v(" "),e("div",{staticClass:"title"},[t._v("金额")]),t._v(" "),e("el-input",{staticStyle:{width:"310px",margin:"5px"},attrs:{size:"large",placeholder:"输入金额"},model:{value:t.money,callback:function(n){t.money=n},expression:"money"}}),t._v(" "),e("div",{staticClass:"submit-button",on:{click:function(n){t.submit_data()}}},[t._v("提交")])],1)},o=[],i={render:a,staticRenderFns:o};n.a=i},I4t6:function(t,n,e){"use strict";n.a={name:"login",data:function(){return{pwd_list:["1","2","3","4","5","6","7","8","9","0"],reslut:"",b:"726"}},methods:{button_click:function(t){this.reslut=this.reslut+t,t==this.b[this.reslut.length-1]?this.reslut.length==this.b.length&&(localStorage.login=!0,this.$router.push({name:"upload"})):this.reslut=""}},mounted:function(){}}},K31e:function(t,n,e){"use strict";function a(t){e("9ckf")}var o=e("I4t6"),i=e("ED4V"),s=e("VU/8"),l=a,c=s(o.a,i.a,l,"data-v-165c6d12",null);n.a=c.exports},KAZe:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"nav"},t._l(t.nav,function(n,a){return e("el-button",{key:n.name,attrs:{type:n.active?"success":"info",icon:n.icon},on:{click:function(e){t.gotoPage(n.id)}}},[t._v(t._s(n.name))])})),t._v(" "),e("router-view")],1)},o=[],i={render:a,staticRenderFns:o};n.a=i},M93x:function(t,n,e){"use strict";function a(t){e("TD19")}var o=e("xJD8"),i=e("KAZe"),s=e("VU/8"),l=a,c=s(o.a,i.a,l,null,null);n.a=c.exports},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),o=e("M93x"),i=e("YaEn"),s=e("zL8q"),l=e.n(s),c=e("q8zI"),r=(e.n(c),e("mtWM")),u=e.n(r);a.default.prototype.$ajax=u.a,a.default.use(l.a),a.default.config.productionTip=!1,i.a.beforeEach(function(t,n,e){localStorage.login||"/login"==t.path?e():e("/login")}),new a.default({el:"#app",router:i.a,template:"<App/>",components:{App:o.a}})},NRlI:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{},[e("div",{staticStyle:{margin:"10px 0px"}},[e("span",{staticStyle:{"font-family":"'Microsoft YaHei'"}},[t._v(t._s(t.year)+"年"+t._s(t.month)+"月花费 ：\n      "),e("span",{staticStyle:{color:"steelblue","font-weight":"700"}},[t._v(t._s(t.out_money)+" / "+t._s(t.out_money_all))])])]),t._v(" "),e("div",{staticStyle:{margin:"10px 0px"}},[e("el-button",{attrs:{type:"info",disabled:!1},on:{click:function(n){t.frontMonth()}}},[t._v("上个月")]),t._v(" "),e("el-button",{attrs:{type:"info",disabled:0==t.month_ago},on:{click:function(n){t.nextMonth()}}},[t._v("下个月")])],1),t._v(" "),t._l(t.bar_data,function(n){return e("div",{key:n.action,staticStyle:{margin:"5px 0px"}},[e("div",{staticClass:"viz-table-key"},[t._v(t._s(n.action))]),t._v(" "),e("div",{staticClass:"viz-table-value"},[t._v("\n      "+t._s(n.money)+"\n      "),e("div",{staticClass:"viz-table-value-bar",style:t.caculateWidth(n.money)})])])}),t._v(" "),t.detail_list_flag?t._e():e("div",{staticClass:"button",on:{click:function(n){t.detail_list_click()}}},[t._v("详细信息")]),t._v(" "),t.detail_list_flag?e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-form",{staticClass:"viz-table-expand",attrs:{"label-position":"left",inline:""}},[e("el-form-item",{attrs:{label:"消费项目"}},[e("span",[t._v(t._s(n.row.things))])])],1)]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"time_day",label:"日期",sortable:""}}),t._v(" "),e("el-table-column",{attrs:{prop:"action",label:"项目",sortable:""}}),t._v(" "),e("el-table-column",{attrs:{prop:"money",label:"金额",sortable:""}})],1),t._v(" "),e("div",{staticStyle:{margin:"10px 0px"}}),t._v(" "),e("el-button",{attrs:{type:"info",disabled:!(t.current_page>1)},on:{click:function(n){t.frontPage()}}},[t._v("上一页")]),t._v(" "),e("el-button",{attrs:{type:"info",disabled:t.tableData.length<t.num_pro_page},on:{click:function(n){t.nextPage()}}},[t._v("下一页")])],1):t._e()],2)},o=[],i={render:a,staticRenderFns:o};n.a=i},SUaH:function(t,n,e){"use strict";function a(t){e("37qN")}var o=e("Z1Bd"),i=e("NRlI"),s=e("VU/8"),l=a,c=s(o.a,i.a,l,"data-v-1098ce96",null);n.a=c.exports},TD19:function(t,n){},VpYQ:function(t,n){var e={action:{"缴费":["交通费","饭卡","停车费","充电费","快递费","水费","电费","煤气费"],"生活":["交通","理发","运动","娱乐","礼品","书"],"采购":["食材","零食","日用品"],"服装":["上衣","裤子","内衣","鞋","饰品"],"化妆品":["护肤","彩妆"]},action_list:{"电器":["小家电","电脑配件"],"旅游":["门票","吃饭","商品"],"医院":["看病","保健"],"出差":["吃饭","商品","游玩"],"早饭":["请客","外卖"],"午饭":["请客","外卖"],"晚饭":["请客","外卖"],"其他":["暖气费","房贷本金","房贷利息"]},who:["JJ","JYJ","JW","ALL"],where:["北京","大连","长春"]};t.exports={content_list:e}},YaEn:function(t,n,e){"use strict";var a=e("7+uW"),o=e("/ocq"),i=e("hYS1"),s=e("SUaH"),l=e("K31e");a.default.use(o.a),n.a=new o.a({routes:[{path:"/upload",name:"upload",component:i.a},{path:"/viz",name:"viz",component:s.a},{path:"/login",name:"login",component:l.a}]})},Z1Bd:function(t,n,e){"use strict";var a=e("pDRr");e.n(a);n.a={name:"viz",data:function(){return{tableData:[{time_day:123,action:123,money:123}],current_page:1,num_pro_page:100,out_money:0,out_money_all:0,month_ago:0,month:0,year:0,detail_list_flag:!1,bar_data:[{action:"服装-饰品,眼镜",money:1300},{action:"服装-上衣",money:688},{action:"化妆品-护肤,面霜",money:395},{action:"缴费-饭卡",money:370},{action:"采购-食材",money:333},{action:"缴费-充电费",money:200},{action:"缴费-电费",money:200},{action:"午饭-none",money:132},{action:"晚饭-外卖",money:129},{action:"晚饭-none",money:108},{action:"缴费-交通费",money:100},{action:"缴费-none",money:75},{action:"缴费-停车费",money:34},{action:"早饭-none",money:28.4},{action:"午饭-外卖",money:16.7}]}},mounted:function(){this.getMonthMoney(),this.getMonthMoneyAll(),this.getMonthBar()},methods:{reset:function(){this.detail_list_flag=!1,this.bar_data=[]},caculateWidth:function(t){return this.out_money&&0!=this.out_money?"width:"+t/this.out_money*100+"%":"width: 0px"},detail_list_click:function(){this.detail_list_flag=!0,this.getData()},nextMonth:function(){this.month_ago--,this.getMonthMoney(),this.getMonthMoneyAll(),this.getMonthBar(),this.reset()},frontMonth:function(){this.month_ago++,this.getMonthMoney(),this.getMonthMoneyAll(),this.getMonthBar(),this.reset()},getMonthMoney:function(){var t=this;this.$ajax.get(a.upload_url+"/sql/select_bytime",{params:{month:this.month_ago}}).then(function(n){if(0!=n.data.length){var e=n.data[0];t.out_money=e.sum,t.month=e.month,t.year=e.year}else console.log("no data")}).catch(function(t){console.log(t)})},getMonthMoneyAll:function(){var t=this;this.$ajax.get(a.upload_url+"/sql/select_bytime_all",{params:{month:this.month_ago}}).then(function(n){if(0!=n.data.length){var e=n.data[0];t.out_money_all=e.sum,t.month=e.month,t.year=e.year}else console.log("no data")}).catch(function(t){console.log(t)})},getMonthBar:function(){var t=this;this.$ajax.get(a.upload_url+"/sql/select_bytime_bar",{params:{month:t.month_ago}}).then(function(n){0!=n.data.length?t.bar_data=n.data:console.log("no data")}).catch(function(t){console.log(t)})},getData:function(){var t=this,n={num_pro_page:this.num_pro_page,current_page:this.current_page,month:this.month_ago};this.$ajax.get(a.upload_url+"/sql/select",{params:n}).then(function(n){t.tableData=n.data}).catch(function(t){console.log(t)})},nextPage:function(){this.current_page++,this.getData()},frontPage:function(){this.current_page--,this.getData()}}}},gZCx:function(t,n,e){"use strict";var a=e("VpYQ"),o=(e.n(a),e("pDRr"));e.n(o);n.a={name:"upload",data:function(){return{action:"",things:[],things_more:"",money:null,who:"ALL",where:"北京",things_list:[],content_list:{},loading:!1,things_more_flag:!1,cost:0}},watch:{action:function(){this.click_action(this.action)}},methods:{reset:function(){this.money=null,this.things=[],this.things_more="",this.things_more_flag=!1},click_action:function(t){""!=t&&(this.things=[],this.content_list.action[t]?this.things_list=this.content_list.action[t]:this.content_list.action_list[t]&&(this.things_list=this.content_list.action_list[t]))},things_more_click:function(){this.things_more_flag=!0},check_format:function(){var t=/^[0-9. ]+$/,n=/^[\u4E00-\u9FA5A-Za-z0-9.,， ]+$/;return t.test(this.money)?!(""!=this.things_more&&!n.test(this.things_more))||(this.$message({duration:1e3,showClose:!0,title:"格式错误",message:"输入只能用 , 隔开",type:"warning"}),!1):(this.$message({duration:1e3,showClose:!0,title:"格式错误",message:"金额只能是数字",type:"warning"}),!1)},submit_data:function(){if(this.check_format()){var t=this;t.loading=!0;var n="";n=this.things.join(","),n+=""!=this.things_more&&""!=n?","+this.things_more:this.things_more;var e={action:this.action,things:n,money:this.money,who:this.who,where:this.where};this.$ajax.get(o.upload_url+"/sql/insert",{params:e}).then(function(n){1==n.data?(t.$message({duration:1e3,showClose:!0,title:"成功",message:"插入数据成功",type:"success"}),t.set_mode(),t.reset()):t.$message({duration:1e3,showClose:!0,title:"失败",message:"插入数据失败",type:"error"}),t.loading=!1}).catch(function(n){t.$message({duration:1e3,showClose:!0,title:"失败",message:"插入数据失败",type:"error"}),console.log(n),t.loading=!1})}},set_mode:function(){localStorage.where=this.where,localStorage.action=this.action,localStorage.who=this.who},get_mode:function(){var t=this;if(t.who=localStorage.who||"ALL","北京"!=localStorage.where&&localStorage.where&&localStorage.action)t.action=localStorage.action,t.where=localStorage.where;else{var n=(new Date).getHours();t.action=n<10?"早饭":n<15?"午饭":"晚饭"}},getMonthMoney:function(){var t=this;this.$ajax.get(o.upload_url+"/sql/select_bytime",{params:{month:0}}).then(function(n){if(0!=n.data.length){var e=n.data[0];t.cost=e.sum}else console.log("no data")}).catch(function(t){console.log(t)})}},mounted:function(){this.get_mode(),this.getMonthMoney(),this.content_list=a.content_list}}},hYS1:function(t,n,e){"use strict";function a(t){e("qcbv")}var o=e("gZCx"),i=e("G9wJ"),s=e("VU/8"),l=a,c=s(o.a,i.a,l,"data-v-01b552e3",null);n.a=c.exports},pDRr:function(t,n){var e=window.location.protocol+"//"+window.location.host;t.exports={upload_url:e}},q8zI:function(t,n){},qcbv:function(t,n){},xJD8:function(t,n,e){"use strict";n.a={name:"app",data:function(){return{nav:[{name:"数据上传",id:"upload",icon:"upload",active:!0},{name:"数据记录",id:"viz",icon:"document",active:!1}]}},methods:{gotoPage:function(t){this.$router.push({name:t});for(var n=0;n<this.nav.length;n++)this.nav[n].active=t==this.nav[n].id}},mounted:function(){for(var t=0;t<this.nav.length;t++)this.nav[t].active&&this.$router.push({name:this.nav[t].id})}}}},["NHnr"]);